<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>LuckyBox Система автоматики винокура</title>

	<meta name="description" content="Версия 1.3 от 04.04.18. ПО распространяется на условиях лицензии GNU GPL v.3. www.LuckyCenter.ru">
	<meta name="author" content="Счастливчик">

	<link href="bootstrap.min.css" rel="stylesheet">
	<link href="style.css" rel="stylesheet">
	<link rel="icon" type="image/png" href="favicon-32x32.png" sizes="32x32"/>
	<link rel="icon" type="image/png" href="favicon-16x16.png" sizes="16x16"/>


</head>
<body>
<div class="wrap">
	<nav id="w0" class="navbar-inverse navbar">
		<div class="container">
			<div class="row">
				<div class="navbar-header col-xs-6 col-sm-8 col-md-8">
					<span class="navbar-brand">LuckyBox <span class="hidden-xs">Система автоматики винокура</span></span>
				</div>
				<div class="col-xs-6 col-sm-4 col-md-4">
					<ul class="nav navbar-nav navbar-right">
						<li class="dropdown pull-right">
							<a href="#" data-toggle="dropdown" class="dropdown-toggle">Помощь<strong class="caret"></strong></a>
							<ul class="dropdown-menu">
								<li>
									<a href="#">Подключение датчиков</a>
								</li>
								<li>
									<a href="https://luckycenter.ru/mnogofunkcionalnaja-avtomatika-luckybox" target="_blank">Обновление прошивки</a>
								</li>
								<li>
									<a href="#">Благодарности</a>
								</li>
								<li class="divider"></li>
								<li>
									<a href="https://luckycenter.ru/forum/konstruktorskoe-bjuro/avtomatizacija/avtomatika-luckybox" target="_blank">Форум поддержки</a>
								</li>
							</ul>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</nav>
	<div class="container top-banner">
		<div class="banner-gradient"></div>
		<div class="h1 text-right">Центр открытого проектирования<br>«у Счастливчика»</div>
		<div class="navbar navbar-default navbar-banner" role="navigation">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-menu">
					<span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>
				</button>
			</div>
			<div id="navbar-menu" class="navbar-collapse collapse">
				<ul class="nav navbar-nav">
					<li class="active"><a href="#home" data-toggle="tab">Дом</a></li>
					<li><a href="#settings" data-toggle="tab">Настройки</a></li>
					<li><a href="#graph" data-toggle="tab">Графики</a></li>
				</ul>
			</div>
		</div>

	</div>
	<div class="main-tabs fill">
		<div class="container-fluid">
			<div class="tab-content">
				<div class="tab-pane active" id="home">
					<div class="row">
						<div class="section section_navtabs">
							<div class="container">
								<div class="row">
									<div class="col-md-12">
										<div class="wrapper-nav">
											<ul class="nav nav-tabs list-tab swipe-tabs">
												<li class="theme_grey swipe-tab active"><a href="#distillation" role="tab" data-toggle="tab" aria-expanded="true">Дистилляция</a>
												</li>
												<li class="theme_grey swipe-tab"><a href="#reflux" role="tab" data-toggle="tab" aria-expanded="true">Ректификация</a></li>
												<li class="theme_grey swipe-tab"><a href="#brewing" role="tab" data-toggle="tab" aria-expanded="true">Затирание</a></li>
												<li class="theme_grey swipe-tab"><a href="#heater" role="tab" data-toggle="tab" aria-expanded="true">Мощность ТЭНа</a></li>
											</ul>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="tab-content list-tab-content swipe-tabs-container">
							<div class="tab-pane theme_grey swipe-tab-content active" id="distillation">
								<div class="container">
									<div class="row">
										<div id="error_distillation" class="col-md-offset-2 col-md-8"></div>
									</div>
									<div class="row">
										<div class="col-md-12 fill-height">
											<table class="table">
												<thead>
												<tr>
													<th>
														Температура
													</th>
													<th>
														Значение
													</th>
													<th>
														Установка
													</th>
													<th>
														Уставка
													</th>
												</tr>
												</thead>
												<tbody>
												<tr>
													<td>
														t&#176 Воды на выходе
													</td>
													<td>
														<span id="distillation_t_3"></span> <span class="hidden_">&#176С</span>
													</td>
													<td>

													</td>
													<td>

													</td>
												</tr>
												<tr>
													<td>
														t&#176 в узле отбора
													</td>
													<td>
														<span id="distillation_t_2"></span> <span class="hidden_">&#176С</span>
													</td>
													<td></td>
													<td></td>
												</tr>
												<tr id='distillation_status'>
													<td>
														t&#176 в кубе
													</td>
													<td>
														<span id="distillation_t_1"></span> <span class="hidden_">&#176С</span>
													</td>
													<td class="form-inline">
														<input id="distillation_setting" class="form-control input-sm noSwipe" type="number" value="" min="0" max="103" size="4">
														<span class="hidden-xs">&#176С</span>
														<button id="distillation_set_setting" type="button" class="btn btn-success btn-sm noSwipe">Задать</button>
													</td>
													<td>
														<span id="distillation_get_setting"></span> <span class="hidden_">&#176С</span>
													</td>
												</tr>
												</tbody>
											</table>
										</div>
									</div>
								</div>
							</div>
							<div class="tab-pane swipe-tab-content theme_grey" id="reflux">
								<div class="container">
									<div class="row">
										<div id="error_reflux" class="col-md-offset-2 col-md-8"></div>
									</div>
									<div class="row">
										<div class="col-md-12 fill-height">
											<table class="table">
												<thead>
												<tr>
													<th>
														Параметр
													</th>
													<th>
														Значение
													</th>
													<th>
														Дельта
													</th>
													<th>
														Уставка
													</th>
												</tr>
												</thead>
												<tbody>
												<tr>
													<td>
														t&#176 Воды на выходе
													</td>
													<td>
														<span id="reflux_t_4"></span> <span class="hidden_">&#176С</span>
													</td>
													<td></td>
													<td></td>
												</tr>
												<tr>
													<td>
														t&#176 в узле отбора
													</td>
													<td>
														<span id="reflux_t_3"></span> <span class="hidden_">&#176С</span>
													</td>
													<td></td>
													<td></td>
												</tr>
												<tr id='reflux_status'>
													<td>
														t&#176 в царге
													</td>
													<td>
														<span id="reflux_t_2"></span> <span class="hidden_">&#176С</span>
													</td>
													<td class="form-inline">
														<input id="reflux_delta" class="form-control input-sm noSwipe" type="number" value="0.0" min="0" max="1" step="0.05" size="4"><span class="hidden-xs">&#176С</span>
														<button id="reflux_set_delta" type="button" class="btn btn-success btn-sm noSwipe">Задать</button>
													</td>
													<td>
														<span id="reflux_setting"></span> <span class="hidden_">&#176С</span>
													</td>
												</tr>
												<tr>
													<td>
														t&#176 в кубе
													</td>
													<td>
														<span id="reflux_t_1"></span> <span class="hidden_">&#176С</span>
													</td>
													<td></td>
													<td></td>
												</tr>
												<tr>
													<td>
														Атмосферное давление
													</td>
													<td>
														<span id="reflux_pressure"></span> <span class="hidden_">мм рт.ст.</span>
													</td>
													<td></td>
													<td></td>
												</tr>
												<tr>
													<td>
														t&#176 кипения спирта при данном давлении
													</td>
													<td>
														<span id="reflux_alco_boil"></span> <span class="hidden_">&#176С</span>
													</td>
													<td></td>
													<td></td>
												</tr>
												</tbody>
											</table>
										</div>
									</div>
								</div>
							</div>
							<div class="tab-pane swipe-tab-content theme_grey" id="brewing">
								<div class="container">
									<div class="row">
										<div id="error_brewing" class="col-md-offset-2 col-md-8"></div>
									</div>
									<div class="row mt-10">
										<div class="col-md-offset-2 col-md-2">
											Время <span id="brewing_time"></span>
										</div>
										<div class="col-md-4">
											<button id="start_brewing" class="btn btn-success btn-sm noSwipe">Старт</button>
										</div>
										<div class="col-md-4">
											<button id="stop_brewing" class="btn btn-danger btn-sm noSwipe">Стоп</button>
										</div>
									</div>
									<div class="row">
										<div class="col-md-12 fill-height">
											<table class="table">
												<thead>
												<tr>
													<th>
														Пауза
													</th>
													<th>
														Время паузы
													</th>
													<th>
														Температура паузы
													</th>
												</tr>
												</thead>
												<tbody>
												<tr id='brewing_status_1' class="brewing-status">
													<td>
														1
													</td>
													<td class="form-inline">
														<input id='brewing_time_1' class="form-control input-sm noSwipe" type="number" value ='' min="0"  max="90" size="6"> <span>минут</span>
													</td>
													<td class="form-inline">
														<input id='brewing_temp_1' class="form-control input-sm noSwipe" type="number" value ='' min="30"  max="103" size="6"> <span>&#176
														С</span>
													</td>
												</tr>
												<tr id='brewing_status_2' class="brewing-status">
													<td>
														2
													</td>
													<td class="form-inline">
														<input id='brewing_time_2' class="form-control input-sm noSwipe" type="number" value ='' min="0"  max="90" size="6"> <span>минут</span>
													</td>
													<td class="form-inline">
														<input id='brewing_temp_2' class="form-control input-sm noSwipe" type="number" value ='' size="6" min="30"  max="103"> <span>&#176С</span>
													</td>
												</tr>
												<tr id='brewing_status_3' class="brewing-status">
													<td>
														3
													</td>
													<td class="form-inline">
														<input id='brewing_time_3' class="form-control input-sm noSwipe" type="number" value ='' min="0"  max="90"  size="6"> <span>минут</span>
													</td>
													<td class="form-inline">
														<input id='brewing_temp_3' class="form-control input-sm noSwipe" type="number" value ='' min="30"  max="103" size="6"> <span>&#176С</span>
													</td>
												</tr>
												<tr id='brewing_status_4' class="brewing-status">
													<td>
														4
													</td>
													<td class="form-inline">
														<input id='brewing_time_4' class="form-control input-sm noSwipe" type="number" value ='' min="0"  max="90" size="6"> <span>минут</span>
													</td>
													<td class="form-inline">
														<input id='brewing_temp_4' class="form-control input-sm noSwipe" type="number" value ='' min="30"  max="103" size="6"> <span>&#176С</span>
														<button id="brewing_set_pause_temp" type="button" class="btn btn-success btn-sm noSwipe">Задать</button>
													</td>
												</tr>
												</tbody>
											</table>
										</div>
									</div>
								</div>
							</div>
							<div class="tab-pane swipe-tab-content theme_grey" id="heater">
								<div class="container">
									<div class="row">
										<div id="error_heater" class="col-md-offset-2 col-md-8"></div>
									</div>
									<div class="row mt-10">
										<div class="col-md-12 fill-height">
											<p>Установите мощность ТЭНа</p>
											<p>Введите число от 1 до 100</p>
											<div class="form-inline">
												<input class="form-control input-sm noSwipe" type="number" id='heater_power' value="0.0" min="0"  max="100" step="1" size="3"> <span>&#176С</span>
												<button id="heater_set_power" type="button" class="btn btn-success btn-sm noSwipe">Задать</button>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="tab-pane" id="settings">
					<div class="container">
						<div class="row">
							<div id="error_settings" class="col-md-offset-2 col-md-8"></div>
						</div>
						<div class="row">
							<div class="col-md-12">
								<h4>Обновление прошивки</h4>
								<div class="form-inline">
									<form id="firmware_update" method="POST" enctype="multipart/form-data">
										<div class="form-inline">
											<input id="file_update" type="file" class="form-control btn-success_ input-sm noSwipe" name="update">
											<button id="settings_update" type="submit" class="btn btn-success btn-sm noSwipe" disabled>Загрузить</button>
										</div>
									</form>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-md-12">
								<h4>Имя устройства</h4>
								<div class="form-inline">
								<input id="settings_ssdp" class="form-control input-sm noSwipe" value="" pattern="[0-9a-zA-Zа-яА-Я. ]{1,20}" placeholder="Имя устройства" size ="30">
									<button id="settings_set_ssdp" type="button" class="btn btn-success btn-sm noSwipe">Сохранить</button>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-md-12">
								<h4>Подключение к WiFi роутеру</h4>
								<div class="form-inline">
									<input id="settings_ssid" class="form-control input-sm noSwipe" value=""  pattern="[0-9a-zA-Z.]{1,15}" placeholder="Имя WiFi сети">
									<input id="settings_password" class="form-control input-sm noSwipe" value="{{password}}" pattern=".{8,15}" type="password" placeholder="Пароль">
									<button id="settings_set_ssid" type="button" class="btn btn-success btn-sm noSwipe">Сохранить</button>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-md-12">
								<h4>Точка доступа</h4>
								<div class="form-inline">
									<input id="settings_ssidap" class="form-control input-sm noSwipe" value=""  pattern="[0-9a-zA-Z.]{1,15}" placeholder="Имя WiFi сети">
									<input id="settings_passwordap" class="form-control input-sm noSwipe" value="{{passwordAP}}" pattern=".{8,15}" onfocus="this.type='text'" type="password"  placeholder="Пароль">
									<button id="settings_set_ssidap" type="button" class="btn btn-success btn-sm noSwipe" onclick="set_ssid_ap(this);">Сохранить</button>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-md-12">
								<h4>Часовой пояс</h4>
								<div class="form-inline">
									<input id="settings_timezone" class="form-control input-sm noSwipe" value="" pattern="[0-9]{1,3}" size="3">
									<button id="settings_set_timezone" type="button" class="btn btn-success btn-sm noSwipe">Сохранить</button>
									<button id="settings_auto_timezone" type="button" class="btn btn-success btn-sm noSwipe">Авто определение и сохранение зоны</button>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-md-12">
								<h4>Перезагрузка устройства</h4>
								<div class="form-inline">
									<button id="settings_restart" type="button" class="btn btn-warning btn-sm noSwipe">Перезагрузить</button>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="tab-pane" id="graph">
					<div class="container">
						<div class="row">
						    <div class="col-md-12">
						        <div class="embed-responsive embed-responsive-16by9">
						            <iframe class="embed-responsive-item" src="plot.htm"></iframe>
						        </div>
						    </div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<footer class="footer">
	<div class="container">
		<p class="pull-left">© 2018</p>
		<p class="pull-right">www.LuckyCenter.ru</p>
	</div>
</footer>
<script src="jquery.min.js"></script>
<script src="jquery.touchSwipe.min.js"></script>
<script src="bootstrap.min.js"></script>
<script src="ajaxloader.js"></script>
<script src="dialog.js"></script>
<script src="scripts.js"></script>
</body>
</html>